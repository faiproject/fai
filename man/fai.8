.\"                                      Hey, EMACS: -*- nroff -*-
.TH fai 8 "10 october 2006" "FAI 3.1"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
fai \- fully automatic installation
.SH SYNOPSIS
.B fai
.RI [ options ] " ACTION"
.br
.B fai
.RI [ options ] " dirinstall DIRECTORY"
.SH DESCRIPTION
fai starts a fai-action, e.g. an installation or a softupdate.
If the variable FAI_ACTION is defined, this action will be
performed. The command line argument will override the value of
FAI_ACTION. You can also define your own actions which will be
executed when specified.
.SH OPTIONS
.TP
ACTION is required.
.TP
.B \-C CFDIR
Use CFDIR as configuration directory. Default is /etc/fai.
.TP
.BI "\-c|\-\-class " class[,class]
Define classes.  Multiple classes must be comma separated.  If not
specified, use the shell environment variable $classes (space
separated).  The first class has lowest priority.
.TP
.B \-h|\-\-help
Show help, version and summary of options.
.TP
.B \-N|\-\-new
Renew the list of defined classes. By default, FAI uses the list of
classes which was created during the first installation and skips
calling fai-class(1). You need to use this option for the first 
softupdate if the system was not installed with FAI, and you can use
it in subsequent runs as well.
.TP
.B \-v|\-\-verbose
Create verbose output.
.SH ACTIONS
.TP
.B install
starts an fully automatic installation:
.RS
.IP 1. 3
setup the fai environment (create ramdisk, get configuration data,...) 
.IP 2. 3
define classes and variables
.IP 3. 3
partition the local hard disk and create file systems
.IP 4. 3
install new software packages
.IP 5. 3
call configuration scripts
.IP 6. 3
check and save the logfiles
.RE

.TP
.B sysinfo
starts a system rescue system
.RS
.IP 1. 3
setup the fai environment (create ramdisk, get configuration data,...) 
.IP 2. 3
define classes and variables
.IP 3. 3
do different types of hardware detection and print hardware info
.IP 4. 3
save the logfiles
.RE

.TP
.B softupdate
starts a softupdate:
.RS
.IP 1. 3
fetch FAI configuration according to /etc/fai/fai.conf 
.IP 2. 3
define classes and variables
.IP 3. 3
update the installed packages
.IP 4. 3
install new software
.IP 5. 3
call configuration scripts
.IP 6. 3
check and save the logfiles
.RE

.TP
.B dirinstall [DIR]
Installation into a directory. This is nearly the same as action
install except for skipping the task that partitions the hard disks and
creates the file systems. Classes should be defined with option -c.

.SH NOTES
Running with action "install" on an already running system will almost
certainly destroy it.
.SH EXAMPLES

   fai -v dirinstall /srv/etchroot -cDEFAULT,FAIBASE,LAST

This command will do an installation into the directory
/src/etchroot. For defining variables, selecting the software packages
and calling the customization script the classes DEFAULT, FAIBASE and
LAST are used.

.SH SEE ALSO
.br
This program is the central part of FAI (Fully Automatic Installation).  See 
the FAI manual for more information on how to use FAI. 
The FAI homepage is http://www.informatik.uni-koeln.de/fai.

.SH AUTHOR
This manual page was written by Henning Glawe
<glaweh@physik.fu-berlin.de> and Thomas Lange <lange@informatik.uni-koeln.de>.
